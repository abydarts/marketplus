/*  
* Company name  : BseTec Pvt Ltd.
* Product  name  : Themeforest clone for ecommerce  
* Framework name : Codeigniter
* Dev Team : Gokulnath,Balaji,Suchitra.
* File name : user.php (controller)
*/
jQuery.fn.extend({autocomplete:function(b,a){var n=typeof b=="string",e=b=="GoogleAjax",a=jQuery.extend({},jQuery.Autocompleter.defaults,{url:n?e?"http://maps.googleapis.com/maps/api/geocode/json?sensor=false":b:null,data:n?null:b,staticData:n?/(.txt|.xml)$/.test(b):!0,delay:n?jQuery.Autocompleter.defaults.delay:10,isGoogleAjax:e},a);if(a.isGoogleAjax)a.searchAll=!1,a.matchSubset=!1;return this.each(function(){jQuery.Autocompleter(this,a)})},result:function(b){return this.bind("result",b)},search:function(){return this.trigger("search")}});
jQuery.Autocompleter=function(b,a){function n(b){var k=p.selected();if(!k)return!1;var c=k.result;t=c;if(a.multiple){var d=s(g.val());d.length>1&&(c=d.slice(0,d.length-1).join(a.multipleSeparator)+a.multipleSeparator+c);c+=a.multipleSeparator}g.val(c);a.hiddenIdField&&a.hiddenIdField!=""&&(c=$('input[name="'+a.hiddenIdField+'"]'))&&c.val(k.idVal);if(a.gStreetField&&a.gStreetField!=""&&(d=$('input[name="'+a.gStreetField+'"]')))(c=i(k.obj,"street_address"))||(c=i(k.obj,"route")),c&&c.short_name&&c.long_name?
d.val(a.gStreetFieldShort?c.short_name:c.long_name):d.val("");if(a.gStreetNumberField&&a.gStreetNumberField!=""&&(d=$('input[name="'+a.gStreetNumberField+'"]')))(c=i(k.obj,"street_number"))&&c.long_name?d.val(c.long_name):d.val("");if(a.gCityField&&a.gCityField!=""&&(d=$('input[name="'+a.gCityField+'"]')))(c=i(k.obj,"locality"))&&c.short_name&&c.long_name?d.val(a.gCityFieldShort?c.short_name:c.long_name):d.val("");if(a.gCountryField&&a.gCountryField!=""&&(d=$('input[name="'+a.gCountryField+'"]')))(c=
i(k.obj,"country"))&&c.short_name&&c.long_name?d.val(a.gCountryFieldShort?c.short_name:c.long_name):d.val("");if(a.gStateField&&a.gStateField!=""&&(d=$('input[name="'+a.gStateField+'"]')))(c=i(k.obj,"administrative_area_level_1"))&&c.short_name&&c.long_name?d.val(a.gStateFieldShort?c.short_name:c.long_name):d.val("");if(a.gPostalCodeField&&a.gPostalCodeField!=""&&(d=$('input[name="'+a.gPostalCodeField+'"]')))(c=i(k.obj,"postal_code"))&&c.short_name&&c.long_name?d.val(a.gPostalCodeFieldShort?c.short_name:
c.long_name):d.val("");a.gLatField&&a.gLatField!=""&&(c=$('input[name="'+a.gLatField+'"]'))&&c.val(k.latLng.lat());a.gLngField&&a.gLngField!=""&&(c=$('input[name="'+a.gLngField+'"]'))&&c.val(k.latLng.lng());if(a.useMap&&a.useMap!=""&&(d=jQuery("#"+a.useMap))&&d.gMap)if(c=d.data("gmap"))a.clearAllMarkers&&d.gMap("removeAllMarkers"),d=c.gmap,d.panTo(k.obj.geometry.location),b=new google.maps.Marker({title:k.data,draggable:a.allowDragChange?!0:!1,animation:b?null:google.maps.Animation.DROP,map:d,position:k.obj.geometry.location}),
a.allowDragChange&&google.maps.event.addListener(b,"dragend",function(a){(new google.maps.Geocoder).geocode({location:a.latLng},function(a,b){if(b==google.maps.GeocoderStatus.OK){var c=a[0].formatted_address,d=m(a);l.add(c,d);d=l.load(c);p.display(d,c);n(!0)}})}),c.markers.push(b);q();g.trigger("result",[k.data,k.value]);return!0}function e(b,k){if(w==r.DEL)p.hide();else{var c=g.val();if(k||c!=t)t=c,c=o(c),c.length>=a.minChars?(g.addClass(a.loadingClass),a.matchCase||(c=c.toLowerCase()),h(c,f,j)):
(j(),p.hide())}}function s(b){if(!b)return[""];var b=b.split(jQuery.trim(a.multipleSeparator)),g=[];jQuery.each(b,function(a,b){jQuery.trim(b)&&(g[a]=jQuery.trim(b))});return g}function o(b){if(!a.multiple)return b;b=s(b);return b[b.length-1]}function q(){p.hide();clearTimeout(u);j();a.mustMatch&&g.search(function(b){b||g.val("")})}function f(f,k){if(k&&k.length&&v){j();p.display(k,f);var c=k[0].value;a.autoFill&&o(g.val()).toLowerCase()==f.toLowerCase()&&w!=8&&g.val().toLowerCase()==c.substring(0,
g.val().length).toLowerCase()&&(g.val(g.val()+c.substring(o(t).length)),jQuery.Autocompleter.Selection(b,t.length,t.length+c.length));p.show()}else q()}function h(b,g,c){a.matchCase||(b=b.toLowerCase());var d=l.load(b);if(d&&d.length)g(b,d);else if(typeof a.url=="string"&&a.url.length>0&&(!a.staticData||!d)){if(a.matchContains)a.extraParams=jQuery.extend({mc:"true"},a.extraParams);if(a.searchAll)a.extraParams=jQuery.extend({sa:"true"},a.extraParams);a.isGoogleAjax?(new google.maps.Geocoder).geocode({address:o(b)},
function(a,c){if(c==google.maps.GeocoderStatus.OK){var d=m(a);l.add(b,d);d=l.load(b);g(b,d)}}):jQuery.ajax({url:a.url,data:!a.staticData?jQuery.extend({q:o(b),limit:a.max},a.extraParams):"",success:function(c){var d;if(!(d=a.parse&&a.parse(c))){d=[];for(var c=c.split("\n"),f=0;f<c.length;f++){var h=jQuery.trim(c[f]);h&&(h=h.split("|"),d[d.length]={data:h,value:h[0],idVal:a.idField&&a.hiddenIdField?h[1]:"",result:a.formatResult&&a.formatResult(h)||h[0]})}}l.add(b,d);d=l.load(b);g(b,d)},error:function(b){var a=
jQuery('<div id="error">').css({position:"absolute",width:"400px",height:"300px",left:"50%",top:"50%",border:"3px solid #f00",marginLeft:"-250px",marginTop:"-150px"}).appendTo("body");jQuery("<div>").css({width:"400px",height:"25px",backgroundColor:"#f00",textAlign:"center",fontWeight:"bold",color:"#fff"}).text("Ajax AutoComplete Server Error").appendTo(a);jQuery("<div>").css({width:"400px",height:"275px",backgroundColor:"#fff",color:"#000",overflow:"auto"}).html(b.responseText).appendTo(a);jQuery("<div>").css({position:"absolute",
width:"15px",height:"25px",top:"0px",right:"0px",fontWeight:"bold",color:"#fff",cursor:"pointer"}).text("X").click(function(){a.remove()}).appendTo(a)}})}else c(b)}function m(b){for(var a=[],c=0;c<b.length;c++){var d=b[c];d&&(a[a.length]={data:d.formatted_address,value:d.formatted_address,latLng:d.geometry.location,result:d.formatted_address,obj:d})}return a}function i(b,a){if(b&&b.address_components)for(var c=0;c<b.address_components.length;c++){var d=b.address_components[c];if(jQuery.inArray(a,
d.types)!=-1)return d}return null}function j(){g.removeClass(a.loadingClass)}var r={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188},g=jQuery(b).attr("autocomplete","off").addClass(a.inputClass),u,t="",l=jQuery.Autocompleter.Cache(a),v=0,w,p=jQuery.Autocompleter.Select(a,b,n);g.keydown(function(b){w=b.keyCode;switch(b.keyCode){case r.UP:b.preventDefault();p.visible()?p.prev():e(0,!0);break;case r.DOWN:b.preventDefault();p.visible()?p.next():e(0,!0);break;case a.multiple&&jQuery.trim(a.multipleSeparator)==
","&&r.COMMA:case r.TAB:case r.RETURN:n()&&(a.multiple||g.blur(),b.preventDefault());break;case r.ESC:p.hide();break;default:clearTimeout(u),u=setTimeout(e,a.delay)}}).keypress(function(){}).focus(function(){v++}).blur(function(){v=0;clearTimeout(u);u=setTimeout(q,200)}).click(function(){v++>1&&!p.visible()&&e(0,!0)}).bind("search",function(){function b(a,c){var d;if(c&&c.length)for(var f=0;f<c.length;f++)if(c[f].result.toLowerCase()==a.toLowerCase()){d=c[f];break}g.trigger("result",d&&[d.data,d.value])}
jQuery.each(s(g.val()),function(a,c){h(c,b,b)})});q()};
jQuery.Autocompleter.defaults={highlightClass:"ac_highlight",inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:2,delay:500,matchCase:!1,matchSubset:!0,matchContains:!1,gStreetField:"",gStreetNumberField:"",gStreetFieldShort:!1,gPostalCodeField:"",gPostalCodeFieldShort:!1,gCityField:"",gCityFieldShort:!1,gStateField:"",gStateFieldShort:!1,gCountryField:"",gCountryFieldShort:!1,gLatField:"",gLngField:"",useMap:"",clearAllMarkers:!0,allowDragChange:!0,idField:"",hiddenIdField:"",
cacheLength:10,mustMatch:!1,extraParams:{},selectFirst:!0,max:10,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",opacity:0.8,showFullItem:!0,searchAll:!1,itemSeparator:"<br/>"};
jQuery.Autocompleter.Cache=function(b){function a(a,h){var e=!1,i=!1;if(typeof a=="string"){b.matchCase||(a=a.toLowerCase());var j=a.indexOf(h);if(j==-1)return!1;return j==0||b.matchContains}else{for(var r=b.searchAll?a.length:1,j=0;j<r;j++){var g=a[j];b.matchCase||(g=g.toLowerCase());g=g.indexOf(h);g>-1&&(e=!0);g==0&&(i=!0)}if(!e)return!1}return i||b.matchContains}function n(a,h){s>b.cacheLength&&this.flush();e[a]||s++;e[a]=h}var e={},s=0;if(b.data){var o={},q=0;if(!b.url)b.cacheLength=1;o[""]=[];
jQuery.each(b.data,function(a,h){value=b.formatItem?b.formatItem(h,h,a+1,b.data.length):h;var e=value.charAt(0).toLowerCase();o[e]||(o[e]=[]);var i={value:value,data:h,result:b.formatResult&&b.formatResult(h)||value};o[e].push(i);q++<b.max&&o[""].push(i)});jQuery.each(o,function(a,h){b.cacheLength++;n(a,h)})}return{flush:function(){e={};s=0},add:n,load:function(f){if(!b.cacheLength||!s)return null;if(!b.url&&b.matchContains){var h=[],m;for(m in e)if(m.length>0){var i=e[m];jQuery.each(i,function(b,
e){a(e.data,f)&&h.push(e)})}return h}else if(b.matchSubset)for(m=f.length;m>=b.minChars;m--){if(i=e[f.substr(0,m)])return h=[],jQuery.each(i,function(b,e){a(e.data,f)&&(h[h.length]=e)}),h}else if(e[f])return e[f];return null}}};
jQuery.Autocompleter.Select=function(b,a,n){function e(b){var a=b.target;if(a.tagName=="UL")a=b.relatedTarget;for(;a.tagName!="LI";)a=a.parentNode;return a}function s(b){i+=b;i<0?i=m.size()-1:i>=m.size()&&(i=0);m.removeClass().eq(i).addClass(q.ACTIVE)}function o(){function a(g){var e=r.replace(/(\.|\?|\||\(|\)|\[|\]|\{|\}|\$|\^|\*|\+|\\)/g,"\\$1");return b.highlightClass?g.replace(RegExp((b.matchContains?"":"^")+"("+e+")","gi"),"<span class='"+b.highlightClass+"'>$1</span>"):g.replace(RegExp((b.matchContains?
"":"^")+"("+e+")","gi"),"<strong>$1</strong>")}function e(a,g){if(typeof g!="string"&&g.length>1)for(var a="<span class='ac_title'>"+a+"</span>",f=b.idField&&b.hiddenIdField?2:1;f<g.length;f++)a+=b.itemSeparator+g[f];return a}for(var f=b.max>0&&b.max<j.length?b.max:j.length,l=0;l<f;l++)j[l]&&jQuery("<li>").html(b.formatItem?b.searchAll?a(b.formatItem(j[l].value,j[l].data,l+1,f)):b.formatItem(a(j[l].value),j[l].data,l+1,f):b.showFullItem?e(a(j[l].value),j[l].data):a(j[l].value)).appendTo(h);m=h.find("li");
b.selectFirst&&(m.eq(0).addClass(q.ACTIVE),i=0)}var q={ACTIVE:"ac_over"},f=jQuery("<div>").hide().addClass(b.resultsClass).css("position","absolute").appendTo("body");!jQuery.browser.msie&&!/6.0/.test(navigator.userAgent)&&f.css("opacity",b.opacity);var h=jQuery("<ul>").appendTo(f).mouseover(function(a){i=jQuery("li",h).removeClass().index(e(a));jQuery(e(a)).addClass(q.ACTIVE)}).mouseout(function(a){jQuery(e(a)).removeClass()}).click(function(b){jQuery(e(b)).addClass(q.ACTIVE);n();a.focus();return!1}),
m,i=-1,j,r="";b.width>0&&f.css("width",b.width);return{display:function(a,b){j=a;r=b;h.empty();o();h.bgiframe&&h.bgiframe()},next:function(){s(1)},prev:function(){s(-1)},hide:function(){if(b.onHide)b.onHide(f);else if(b.fxHide){if(!b.fxHide.duration)b.fxHide.duration="normal";switch(b.fxHide.type.toLowerCase()){case "slide":f.slideUp(b.fxHide.duration);break;case "fade":f.fadeOut(b.fxHide.duration);break;default:f.hide()}}else f.hide();i=-1},visible:function(){return f.is(":visible")},current:function(){return this.visible()&&
(m.filter("."+q.ACTIVE)[0]||b.selectFirst&&m[0])},show:function(){var e=jQuery(a).offset();f.css({width:b.width>0?b.width:jQuery(a).width(),top:e.top+a.offsetHeight,left:e.left});if(b.onShow)b.onShow(f);else if(b.fxShow){if(!b.fxShow.duration)b.fxShow.duration="normal";switch(b.fxShow.type.toLowerCase()){case "slide":f.slideDown(b.fxShow.duration);break;case "fade":f.fadeIn(b.fxShow.duration);break;default:f.show()}}else f.show()},selected:function(){return j&&j[i]}}};
jQuery.Autocompleter.Selection=function(b,a,n){if(b.createTextRange){var e=b.createTextRange();e.collapse(!0);e.moveStart("character",a);e.moveEnd("character",n);e.select()}else if(b.setSelectionRange)b.setSelectionRange(a,n);else if(b.selectionStart)b.selectionStart=a,b.selectionEnd=n;b.focus()};
